# DEMO2022-2023-linux-only
(Свободный проект альтруистов) 100% выполненное задание (публичный вариант) к демонстрационному экзамену по сетевому и системному администрированию. Полностью и только на Debian. Основано на первоисточнике: https://github.com/storm39mad/DEMO2022/tree/main/azure

В формате docx: [Very Easy Linux.docx](https://github.com/cupespresso22/DEMO2022-2023-linux-only/files/8994172/Very.Easy.Linux.docx)

![изображение](https://user-images.githubusercontent.com/28905300/175996163-e7dbdb7b-2d18-4150-906a-ac925f3a66c7.png)

## Таблица 1. Характеристики ВМ

|Name VM         |ОС                  |RAM             |CPU             |IP                    |Additionally                       |
|  ------------- | -------------      | -------------  |  ------------- |  -------------       |  -------------                    |  
|RTR-L           |Debian 11/CSR       |2 GB            |2/4             |4.4.4.100/24          |                                   |
|                |                    |                |                |192.168.100.254/24    |                                   |
|RTR-R           |Debian 11/CSR       |2 GB            |2/4             |5.5.5.100/24          |                                   |
|                |                    |                |                |172.16.100.254 /24    |                                   |
|SRV             |Debian 11/Win 2019  |2 GB /4 GB      |2/4             |192.168.100.200/24    |Доп диски 2 шт по 5 GB             |
|WEB-L           |Debian 11           |2 GB            |2               |192.168.100.100/24    |                                   |
|WEB-R           |Debian 11           |2 GB            |2               |172.16.100.100/24     |                                   |
|ISP             |Debian 11           |2 GB            |2               |4.4.4.1/24            |                                   |
|                |                    |                |                |5.5.5.1/24            |                                   |
|                |                    |                |                |3.3.3.1/24            |                                   |
|CLI             |Win 10              |4 GB            |4               |3.3.3.10/24           |                                   |

## Виртуальные машины и коммутация.
Необходимо выполнить создание и базовую конфигурацию виртуальных
машин.

1. На основе предоставленных ВМ или шаблонов ВМ создайте отсутствующие виртуальные машины в соответствии со схемой.  
   -	Характеристики ВМ установите в соответствии с Таблицей 1;
   -	Коммутацию (если таковая не выполнена) выполните в соответствии со схемой сети.	 
2.  Имена хостов в созданных ВМ должны быть установлены в соответствии со схемой.
3.  Адресация должна быть выполнена в соответствии с Таблицей 1;
4.  Обеспечьте ВМ дополнительными дисками, если таковое необходимо в соответствии с Таблицей 1;

###### #(Если изначально доступна работа из под пользователя с обычными привилегиями, то повышение привилегий, то есть работа из под root, выполняется через команду *sudo -i*).
###### #На текущем этапе, пока что выполняется настройка имён хостов и IP-адресации.
![изображение](https://user-images.githubusercontent.com/28905300/175999607-fa8103f4-050f-4a61-a7a6-735731709549.png)

## МОНТИРОВАНИЕ ОБРАЗОВ И УСТАНОВКА ПАКЕТОВ
###### #На демо-экзамене предоставляются ISO-образы с дополнительным ПО. Установка пакетов через них. Выход в реальный интернет не предоставляется.
###### #К примеру, на виртуальной машине RTR-L нужно установить необходимые по заданию пакеты. Для этого необходимо вмонтировать в VM один из ISO-образов и добавить его в source.list (необязательно все, только самый первый).
![изображение](https://user-images.githubusercontent.com/28905300/176243706-b3aeef9f-3c18-4751-9d64-8be7f0673a72.png)
![изображение](https://user-images.githubusercontent.com/28905300/176243826-8e15bde7-00d3-4bf6-8a80-8cb64cd0921c.png)
![изображение](https://user-images.githubusercontent.com/28905300/176243935-32885bf7-d4b8-4545-a043-58b7c8b9dec0.png)
![изображение](https://user-images.githubusercontent.com/28905300/176243995-4ef6b621-4f40-44a0-b17d-2b7b0985e423.png)
###### #Одновременно с добавлением образа в source.list, производится обновление списка доступных пакетов от каждого смонтированного образа.
###### #Если требуется установить ПО, связанные с которым пакеты находятся на нескольких образах, то в proxmox надо так же выбрать уже другой образ, по образцу выше. После этого в Debian, для обновления пакетов от другого образа, нужно выполнить следующие команды:
![изображение](https://user-images.githubusercontent.com/28905300/176244112-ecd85e48-fa15-4652-a48f-6f4275bfafe3.png)
###### #А далее снова *apt-cdrom add*.
###### #Добавляем автомонтирование образа с ПО при перезагрузке виртуальной машины.
![изображение](https://user-images.githubusercontent.com/28905300/176244201-f6917ac3-990a-4bd1-9b66-c66b2a4bea50.png)
###### #(в nano сохранение изменений на *CTRL+S*, выход — *CTRL+X*)
![изображение](https://user-images.githubusercontent.com/28905300/176244404-16091ebc-c042-411c-abf9-1deb5503aef4.png)
##### Очень полезные сочетания клавиш в nano: 
##### Alt + 6 — копировать одну или несколько строк.
##### Ctrl + U — вставить строку или строки.
##### Ctrl + K — вырезать (удалить) строку.
##### Alt + T — удалить ВСЁ ниже курсора.
##### Ctrl + S — сохранить изменения.
##### Ctrl + X — выход.
##### Длинные пробелы ставятся при нажатии на TAB.

###### #Далее нужно настроить статическую IP-адресацию на каждой машине. Адресация представлена в конце комплекта оценочной документации. Для сопоставления MAC-адресов с IP-адресами на каждой машине, нужно проделать следующее:
![изображение](https://user-images.githubusercontent.com/28905300/176244746-4648f67f-364e-4c7d-88aa-86664629d5a0.png)
###### #На proxmox, при выборе виртуальной машины и просмотре списка его оборудования, нужно обратить внимание на MAC-адрес и имя моста (bridge). У другой машины, присоединённой к текущей (пример ISP), имя моста будет идентичным.
![изображение](https://user-images.githubusercontent.com/28905300/176244904-2d890844-4d5f-4db3-9483-b473a16b4e4b.png)
###### #По одинаковому названию моста можно увидеть связность конкретных машин. По их MAC-адресам — связь с IP-адресами.
#### ПЕРВЫЙ ВАРИАНТ НАСТРОЙКИ
###### #Настройка IP-адресов каждой машины (кроме CLI). Каждый интерфейс настраивается через *nmcli* одной длинной командой:
#### ISP
![изображение](https://user-images.githubusercontent.com/28905300/176245056-6706c377-7406-47b8-b58b-da6be538ec09.png)
###### #Названия интерфейсов можно посмотреть и через *nmcli connection*. Если наименования не содержат *Wired connection* и они имеют красный цвет, то нужно ввести команду *systemctl restart NetworkManager* и заново ввести *nmcli connection*.
![изображение](https://user-images.githubusercontent.com/28905300/176243233-2fb935d9-5d3e-41a1-8d6c-7d8ba3d3a785.png)
###### #Элементы команд полностью не нужно вписывать (кроме имён и цифр). Достаточно вбить начало команды (пример: ipv4.ad), как в терминале Cisco, и через нажатие на TAB произойдёт автодописывание (ipv4.addresses).
###### #Пример соответствует самой первой введёной строке:
###### nmc(TAB) co(TAB) mod(TAB) Wi(TAB) 1 ipv4.a(TAB) 5.5.5.1/24 ipv4.me(TAB) m(TAB) au(TAB) y(TAB) con-n(TAB) ISP-RTRR.
#### RTR-R
![изображение](https://user-images.githubusercontent.com/28905300/176381588-691c1fa6-a173-443a-98d9-a395dd1afcc0.png)
#### RTR-L
![изображение](https://user-images.githubusercontent.com/28905300/176381793-9cb85679-d860-41ff-a184-8e01121ba158.png)
#### WEB-L
![изображение](https://user-images.githubusercontent.com/28905300/176381968-10409a3c-c436-4f75-a10f-e2ff426d656f.png)
#### SRV
![изображение](https://user-images.githubusercontent.com/28905300/176382133-444ea1e8-10a0-49cc-8937-d87cad6696fe.png)
#### WEB-R
![изображение](https://user-images.githubusercontent.com/28905300/176382245-a676d222-22e9-4c10-bc44-538660cad981.png)
#### CLI
###### #На виртуальной машине CLI, по заданию, операционная система Windows 10. Порядок изменения имени хоста и IP-адреса там другой:
![изображение](https://user-images.githubusercontent.com/28905300/176009988-c0fa9d7a-74e4-4a4b-878b-08aa0375e485.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010008-f28839a2-39ce-4bb8-85be-a6c83f67fb57.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010035-149e5876-2d9e-4884-b2e8-330a842ab685.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010052-77bd725e-8e6c-4ef2-82a6-3a9d37e7209e.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010074-29212295-b515-4b54-8521-74e93d16bd90.png)
###### #Жмём на OK, заходим в PowerShell и пингуем шлюз по умолчанию (ISP). Далее меняем имя хоста:
![изображение](https://user-images.githubusercontent.com/28905300/176010140-0332983c-106e-4a4b-8efc-50fc888bbc06.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010153-90806f3e-b203-4b85-a7d7-fd4654fef1c5.png)
![изображение](https://user-images.githubusercontent.com/28905300/176010174-468b241f-463d-481c-8f46-aba1c53c740c.png)
###### #Запрос о перезагрузке подтверждаем.
#### ВТОРОЙ ВАРИАНТ НАСТРОЙКИ
###### #(короткие команды в nmcli):
#### ISP
